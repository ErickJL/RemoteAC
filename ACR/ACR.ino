#include <ESP8266WiFi.h>
#include <ESP8266WebServer.h>

#include <IRremoteESP8266.h>
#include <IRsend.h>
#include <IRrecv.h>

#include <IRutils.h>
#include <IRtext.h>
#include "web.h"

const char* ssid = "AC";
const char* password = "qwerty12";
ESP8266WebServer server(80);
IPAddress local_ip(192, 168, 4, 1);
IPAddress gateway(192, 168, 4, 1);
IPAddress netmask(255, 255, 255, 0);

const uint16_t kIrLed = 4;  // ESP GPIO pin to use. Recommended: 4 (D2).
const uint16_t kRecvPin = 14;
IRsend irsend(kIrLed);  // Set the GPIO to be used to sending the message.
IRrecv irrecv(kRecvPin);
decode_results results;

void suhu(){
  String data = server.arg("plain");
  int nilai = data.toInt();
  switch(nilai){
    case 16 : { 
      uint16_t rawData[279] = {9048, 4452,  686, 1646,  660, 520,  684, 546,  660, 1646,  660, 1646,  660, 1646,  660, 546,  660, 520,  684, 546,  660, 546,  660, 546,  660, 544,  660, 524,  680, 524,  682, 544,  660, 546,  660, 546,  660, 524,  682, 520,  684, 524,  680, 522,  684, 522,  682, 1646,  660, 524,  680, 522,  684, 544,  658, 522,  684, 522,  682, 1646,  660, 522,  684, 1648,  660, 522,  684, 522,  684, 1624,  682, 524,  682, 19948,  684, 546,  658, 1646,  660, 522,  682, 546,  658, 524,  684, 520,  684, 522,  684, 520,  684, 522,  684, 522,  684, 522,  684, 522,  684, 520,  684, 522,  682, 1648,  658, 1648,  660, 522,  684, 522,  684, 520,  684, 520,  684, 520,  684, 520,  684, 522,  684, 520,  684, 546,  660, 546,  658, 546,  684, 522,  684, 1622,  684, 1624,  682, 1624,  682, 1624,  682, 39924,  9042, 4432,  704, 526,  678, 526,  678, 526,  680, 526,  680, 526,  678, 526,  678, 528,  676, 504,  700, 504,  702, 502,  702, 502,  702, 502,  702, 502,  702, 502,  702, 504,  700, 504,  700, 504,  700, 506,  698, 506,  674, 530,  674, 532,  672, 532,  672, 534,  670, 534,  670, 534,  670, 536,  668, 536,  668, 536,  670, 536,  668, 1638,  666, 540,  666, 1640,  666, 540,  664, 1640,  666, 540,  666, 19964,  664, 542,  664, 540,  662, 544,  662, 544,  660, 544,  662, 544,  660, 564,  640, 544,  660, 566,  638, 566,  640, 566,  638, 566,  614, 590,  616, 590,  614, 590,  614, 592,  614, 592,  612, 592,  612, 594,  610, 594,  610, 596,  608, 598,  608, 598,  606, 600,  602, 604,  600, 604,  602, 604,  602, 604,  600, 604,  602, 1706,  598, 606,  600, 1706,  598};  // GREE   irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 17 : {
      uint16_t rawData[279] = {9048, 4428,  710, 1620,  684, 498,  708, 496,  708, 1624,  682, 1624,  682, 1624,  682, 496,  708, 498,  708, 1624,  680, 500,  706, 500,  704, 498,  708, 498,  706, 498,  706, 498,  708, 500,  704, 500,  706, 498,  706, 498,  706, 498,  706, 498,  706, 498,  706, 1626,  682, 498,  706, 498,  708, 498,  706, 498,  706, 498,  706, 1626,  656, 524,  680, 1652,  650, 528,  674, 530,  674, 1634,  646, 556,  672, 19960,  668, 536,  668, 1636,  644, 560,  642, 562,  642, 562,  664, 540,  664, 540,  642, 564,  640, 564,  640, 564,  640, 566,  638, 566,  640, 566,  638, 566,  638, 1668,  638, 1668,  638, 566,  638, 568,  638, 568,  636, 568,  636, 568,  636, 570,  636, 570,  634, 570,  632, 572,  632, 574,  632, 594,  610, 594,  612, 594,  610, 596,  610, 596,  608, 596,  608, 40026,  8942, 4534,  604, 600,  604, 602,  602, 602,  604, 602,  604, 602,  602, 602,  602, 602,  600, 604,  602, 602,  602, 602,  602, 604,  602, 602,  602, 602,  602, 604,  602, 604,  602, 604,  600, 604,  602, 604,  602, 602,  602, 604,  602, 604,  602, 604,  602, 604,  600, 604,  600, 604,  600, 604,  602, 604,  600, 604,  600, 628,  578, 1730,  576, 628,  576, 1730,  576, 628,  576, 1730,  576, 628,  576, 20054,  552, 652,  552, 654,  550, 654,  552, 652,  552, 652,  552, 654,  550, 656,  550, 654,  552, 654,  552, 654,  550, 654,  552, 654,  552, 678,  526, 678,  528, 678,  526, 678,  528, 678,  526, 678,  526, 680,  526, 680,  524, 680,  526, 680,  524, 680,  526, 680,  524, 680,  524, 680,  524, 706,  500, 706,  498, 706,  500, 1808,  498, 708,  496, 1810,  496};  // GREE   irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 18 : {
      uint16_t rawData[279] = {8982, 4494,  644, 1660,  644, 562,  644, 560,  644, 1662,  644, 1662,  668, 1638,  642, 564,  644, 560,  644, 562,  644, 1662,  644, 562,  644, 560,  644, 562,  666, 536,  646, 560,  642, 562,  644, 562,  644, 562,  642, 562,  644, 562,  644, 560,  644, 560,  644, 1660,  646, 560,  644, 560,  644, 560,  642, 562,  644, 562,  644, 1662,  644, 560,  646, 1660,  646, 560,  646, 558,  646, 1660,  648, 558,  650, 19982,  650, 556,  674, 1632,  646, 558,  674, 532,  672, 534,  648, 556,  672, 534,  674, 532,  672, 534,  672, 534,  674, 530,  672, 534,  672, 532,  672, 534,  672, 1636,  670, 1638,  668, 534,  648, 558,  668, 536,  668, 536,  670, 536,  662, 544,  668, 536,  642, 564,  666, 540,  666, 540,  666, 540,  664, 540,  640, 1666,  664, 542,  662, 542,  662, 544,  638, 39998,  8970, 4528,  610, 596,  608, 596,  608, 598,  608, 596,  608, 596,  608, 598,  606, 598,  606, 598,  606, 600,  606, 600,  604, 600,  604, 602,  604, 602,  602, 602,  604, 602,  602, 602,  602, 604,  602, 602,  602, 604,  602, 602,  602, 604,  602, 602,  602, 604,  602, 604,  602, 602,  602, 602,  602, 604,  602, 602,  602, 604,  602, 1704,  602, 604,  602, 1704,  602, 604,  602, 1704,  602, 604,  602, 20030,  602, 604,  602, 604,  600, 604,  600, 604,  602, 628,  576, 628,  578, 626,  576, 630,  576, 628,  576, 604,  600, 604,  600, 628,  576, 628,  578, 628,  576, 628,  578, 628,  576, 628,  576, 628,  576, 628,  576, 628,  576, 628,  578, 628,  576, 628,  576, 628,  578, 628,  552, 652,  564, 642,  552, 652,  552, 654,  552, 1754,  552, 652,  552, 1754,  552};  // GREE   Serial.println("Turning the tepmerature to 18");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 19 : {
      uint16_t rawData[279] = {9044, 4428,  710, 1624,  682, 500,  704, 498,  708, 1624,  682, 1624,  684, 1624,  684, 496,  708, 498,  708, 498,  706, 498,  706, 1602,  704, 498,  708, 498,  708, 498,  706, 498,  706, 498,  706, 500,  706, 498,  704, 500,  704, 498,  682, 524,  682, 522,  682, 1626,  680, 524,  682, 522,  682, 524,  682, 522,  682, 524,  682, 1650,  656, 524,  680, 1652,  654, 550,  680, 502,  702, 1626,  680, 524,  680, 19924,  706, 526,  678, 1628,  678, 526,  678, 528,  676, 528,  674, 530,  676, 530,  674, 532,  674, 532,  674, 510,  696, 506,  698, 506,  698, 506,  698, 508,  698, 1608,  674, 1632,  670, 534,  668, 536,  670, 536,  668, 538,  666, 538,  666, 540,  664, 542,  662, 544,  662, 564,  640, 566,  638, 566,  638, 568,  636, 1670,  612, 1692,  612, 592,  612, 594,  610, 40024,  8940, 4536,  602, 604,  600, 604,  602, 604,  602, 604,  600, 604,  602, 604,  602, 604,  602, 604,  602, 604,  600, 604,  602, 604,  602, 604,  602, 604,  602, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  602, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 606,  598, 628,  576, 628,  578, 628,  578, 628,  576, 1730,  576, 628,  576, 1730,  576, 628,  578, 1728,  576, 628,  576, 20056,  552, 654,  552, 654,  552, 654,  552, 654,  552, 652,  552, 654,  552, 654,  550, 678,  526, 678,  526, 678,  526, 680,  526, 680,  526, 678,  526, 678,  526, 678,  526, 678,  526, 680,  526, 678,  526, 678,  526, 680,  526, 680,  526, 680,  526, 680,  526, 680,  526, 680,  524, 680,  526, 680,  526, 680,  526, 678,  526, 1782,  524, 682,  524, 1782,  526};  // GREE    Serial.println("Turning the temperature to 19 ");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 20 : {
      uint16_t rawData[279] = {9044, 4428,  710, 1624,  682, 500,  704, 498,  708, 1624,  682, 1624,  684, 1624,  684, 496,  708, 498,  708, 498,  706, 498,  706, 1602,  704, 498,  708, 498,  708, 498,  706, 498,  706, 498,  706, 500,  706, 498,  704, 500,  704, 498,  682, 524,  682, 522,  682, 1626,  680, 524,  682, 522,  682, 524,  682, 522,  682, 524,  682, 1650,  656, 524,  680, 1652,  654, 550,  680, 502,  702, 1626,  680, 524,  680, 19924,  706, 526,  678, 1628,  678, 526,  678, 528,  676, 528,  674, 530,  676, 530,  674, 532,  674, 532,  674, 510,  696, 506,  698, 506,  698, 506,  698, 508,  698, 1608,  674, 1632,  670, 534,  668, 536,  670, 536,  668, 538,  666, 538,  666, 540,  664, 542,  662, 544,  662, 564,  640, 566,  638, 566,  638, 568,  636, 1670,  612, 1692,  612, 592,  612, 594,  610, 40024,  8940, 4536,  602, 604,  600, 604,  602, 604,  602, 604,  600, 604,  602, 604,  602, 604,  602, 604,  602, 604,  600, 604,  602, 604,  602, 604,  602, 604,  602, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  602, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 606,  598, 628,  576, 628,  578, 628,  578, 628,  576, 1730,  576, 628,  576, 1730,  576, 628,  578, 1728,  576, 628,  576, 20056,  552, 654,  552, 654,  552, 654,  552, 654,  552, 652,  552, 654,  552, 654,  550, 678,  526, 678,  526, 678,  526, 680,  526, 680,  526, 678,  526, 678,  526, 678,  526, 678,  526, 680,  526, 678,  526, 678,  526, 680,  526, 680,  526, 680,  526, 680,  526, 680,  526, 680,  524, 680,  526, 680,  526, 680,  526, 678,  526, 1782,  524, 682,  524, 1782,  526};  // GREE    Serial.println("Turning the temperature to 20 ");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 21 : {
      uint16_t rawData[279] = {9046, 4428,  710, 1620,  686, 520,  686, 520,  684, 1620,  686, 1622,  684, 1620,  686, 520,  684, 520,  684, 1622,  686, 520,  684, 1622,  684, 496,  710, 520,  684, 496,  708, 520,  684, 522,  684, 500,  706, 520,  684, 498,  708, 520,  684, 498,  706, 498,  708, 1622,  684, 522,  684, 496,  708, 496,  708, 524,  682, 498,  708, 1622,  682, 496,  708, 1622,  684, 496,  708, 500,  706, 1624,  660, 520,  686, 19946,  684, 520,  706, 1626,  656, 522,  684, 522,  682, 522,  684, 522,  682, 524,  682, 524,  680, 524,  682, 524,  680, 524,  682, 522,  682, 524,  686, 522,  702, 1628,  680, 1626,  678, 528,  678, 526,  678, 528,  676, 530,  674, 530,  674, 530,  672, 534,  670, 534,  668, 536,  642, 564,  666, 538,  642, 562,  644, 538,  668, 536,  670, 1636,  666, 538,  666, 39966,  8970, 4504,  634, 572,  634, 570,  634, 572,  632, 572,  632, 574,  630, 574,  630, 594,  610, 594,  612, 594,  612, 594,  610, 594,  610, 596,  610, 596,  608, 596,  610, 596,  608, 596,  608, 596,  608, 596,  608, 596,  608, 598,  608, 598,  606, 598,  606, 600,  606, 600,  604, 602,  604, 602,  602, 602,  602, 602,  602, 602,  602, 1704,  602, 604,  602, 1704,  602, 602,  602, 1704,  602, 604,  600, 20030,  600, 602,  602, 604,  600, 604,  602, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  602, 604,  600, 604,  602, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 628,  576, 628,  576, 628,  576, 630,  576, 628,  576, 628,  576, 630,  576, 628,  576, 628,  578, 628,  576, 630,  576, 628,  578, 628,  576, 1730,  576, 628,  576, 1730,  576};  // GREE    Serial.println("Turning the temperature to 21");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 22 : {
      uint16_t rawData[279] = {9028, 4470,  666, 1664,  640, 538,  644, 562,  644, 1688,  618, 1690,  618, 1688,  614, 564,  638, 566,  618, 588,  618, 1714,  596, 1710,  624, 558,  648, 556,  652, 554,  654, 550,  682, 522,  682, 524,  680, 526,  680, 522,  684, 520,  684, 522,  684, 524,  682, 1648,  660, 520,  684, 524,  682, 522,  684, 522,  684, 518,  686, 1648,  660, 524,  682, 1646,  660, 520,  686, 546,  658, 1646,  660, 520,  684, 19944,  706, 500,  706, 1602,  702, 500,  706, 500,  706, 498,  706, 498,  706, 498,  706, 498,  706, 500,  682, 524,  682, 522,  684, 520,  684, 522,  680, 524,  680, 1652,  650, 1656,  650, 530,  676, 530,  674, 532,  672, 534,  672, 532,  670, 534,  670, 536,  668, 536,  668, 536,  668, 536,  668, 538,  666, 540,  666, 1640,  666, 540,  664, 1642,  664, 542,  640, 39992,  8974, 4502,  636, 568,  636, 570,  636, 570,  636, 570,  634, 570,  634, 570,  634, 572,  632, 572,  632, 574,  632, 594,  610, 576,  630, 594,  610, 594,  610, 596,  610, 594,  610, 596,  610, 596,  610, 596,  608, 596,  608, 598,  608, 596,  608, 596,  610, 596,  608, 598,  608, 596,  608, 598,  608, 596,  608, 598,  606, 598,  608, 1698,  608, 596,  608, 1698,  608, 598,  606, 1698,  608, 598,  606, 20022,  608, 596,  610, 596,  610, 596,  608, 596,  610, 596,  608, 596,  608, 598,  608, 598,  606, 598,  606, 598,  606, 598,  606, 598,  606, 598,  606, 600,  606, 600,  604, 602,  602, 606,  598, 602,  602, 604,  602, 602,  602, 604,  602, 602,  604, 602,  602, 602,  604, 604,  602, 602,  602, 604,  602, 602,  602, 604,  602, 1706,  600, 604,  602, 1704,  602};  // GREE    Serial.println("Turning the temperature to 22");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 23 : {
      uint16_t rawData[279] = {8958, 4516,  620, 1714,  592, 586,  620, 586,  620, 1712,  594, 1712,  594, 1712,  596, 584,  620, 586,  620, 1712,  596, 1710,  596, 1712,  596, 584,  620, 584,  620, 584,  622, 584,  620, 586,  642, 562,  644, 562,  646, 560,  646, 558,  648, 560,  672, 532,  674, 1658,  624, 556,  674, 532,  676, 552,  656, 550,  682, 522,  684, 1622,  686, 520,  686, 1620,  686, 520,  686, 518,  684, 1622,  684, 520,  682, 19920,  708, 524,  680, 1600,  680, 528,  674, 528,  672, 532,  672, 534,  670, 536,  668, 536,  666, 540,  666, 540,  652, 554,  662, 542,  638, 566,  638, 568,  638, 1670,  636, 1692,  612, 592,  614, 592,  612, 592,  612, 592,  610, 594,  610, 596,  610, 594,  608, 596,  608, 596,  606, 598,  606, 600,  604, 600,  602, 604,  600, 1706,  600, 1706,  600, 604,  600, 40034,  8934, 4538,  600, 604,  600, 606,  600, 606,  600, 604,  600, 606,  600, 604,  600, 604,  600, 606,  600, 604,  602, 604,  600, 604,  600, 604,  602, 604,  600, 606,  600, 604,  600, 604,  600, 604,  600, 606,  600, 604,  602, 606,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 1708,  600, 604,  600, 1706,  600, 604,  600, 1706,  600, 604,  602, 20030,  600, 606,  600, 604,  602, 604,  602, 604,  600, 604,  600, 604,  602, 606,  600, 604,  600, 606,  600, 604,  600, 606,  600, 604,  600, 604,  600, 604,  600, 604,  600, 606,  600, 606,  600, 604,  600, 606,  598, 606,  600, 606,  598, 606,  600, 606,  598, 608,  598, 630,  574, 630,  576, 630,  576, 628,  576, 628,  576, 1730,  576, 628,  576, 1728,  576};  // GREE    Serial.println("Turning the temperature to 23");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 24 : {
      uint16_t rawData[279] = {8990, 4486,  652, 1680,  626, 554,  648, 556,  652, 1680,  624, 1682,  624, 1680,  624, 556,  650, 554,  650, 554,  650, 554,  650, 556,  650, 1680,  650, 530,  652, 552,  654, 552,  678, 526,  678, 528,  678, 526,  680, 524,  678, 526,  680, 526,  680, 526,  682, 1650,  656, 524,  682, 524,  680, 526,  680, 548,  658, 546,  684, 1620,  686, 518,  686, 1620,  684, 520,  684, 520,  684, 1622,  684, 522,  682, 19924,  706, 524,  680, 1600,  704, 504,  700, 504,  676, 528,  674, 530,  672, 534,  670, 534,  668, 536,  668, 538,  666, 538,  664, 540,  666, 540,  664, 542,  638, 1670,  636, 1670,  636, 590,  614, 590,  614, 592,  612, 592,  612, 592,  612, 594,  610, 594,  610, 596,  610, 596,  606, 598,  606, 598,  606, 600,  602, 1706,  600, 1706,  600, 1706,  600, 604,  600, 40034,  8936, 4536,  602, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 606,  600, 606,  600, 604,  600, 604,  600, 604,  602, 604,  600, 606,  600, 606,  600, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 604,  600, 604,  602, 604,  602, 1706,  600, 606,  600, 1706,  600, 604,  600, 1706,  600, 604,  600, 20028,  600, 604,  600, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 606,  598, 606,  602, 604,  600, 604,  600, 606,  600, 604,  600, 606,  600, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 606,  600, 606,  600, 604,  600, 606,  600, 606,  600, 606,  600, 606,  598, 628,  576, 630,  576, 630,  576, 630,  576, 1728,  576, 630,  576, 1730,  576};  // GREE    Serial.println("Turning the temperature to 24 ");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 25 : {
      uint16_t rawData[279] = {9018, 4454,  656, 1678,  630, 552,  654, 552,  654, 1674,  632, 1676,  652, 1654,  626, 556,  674, 528,  654, 1676,  630, 552,  654, 550,  656, 1674,  630, 550,  656, 550,  668, 536,  654, 552,  654, 550,  680, 550,  630, 550,  680, 526,  682, 524,  678, 526,  682, 1650,  656, 524,  680, 524,  682, 522,  682, 522,  682, 524,  680, 1650,  658, 524,  680, 1650,  658, 524,  682, 522,  682, 1650,  668, 514,  682, 19944,  708, 522,  684, 1622,  686, 520,  686, 520,  684, 520,  684, 520,  684, 522,  682, 522,  682, 522,  682, 522,  682, 522,  682, 524,  680, 526,  678, 502,  692, 1612,  676, 1628,  674, 532,  670, 534,  668, 536,  668, 538,  666, 538,  666, 540,  664, 540,  662, 542,  638, 568,  638, 568,  636, 570,  634, 590,  614, 590,  612, 592,  614, 592,  612, 1694,  612, 40026,  8946, 4530,  608, 598,  608, 596,  608, 598,  606, 600,  606, 600,  604, 600,  604, 600,  606, 600,  604, 600,  604, 602,  600, 604,  600, 606,  602, 604,  600, 606,  598, 606,  600, 604,  602, 604,  600, 606,  600, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 1706,  602, 604,  600, 1706,  600, 604,  600, 1706,  600, 606,  600, 20032,  600, 604,  600, 604,  602, 604,  602, 604,  600, 604,  600, 604,  600, 604,  600, 604,  602, 602,  602, 604,  600, 604,  600, 604,  600, 604,  600, 604,  602, 604,  600, 604,  600, 604,  602, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 606,  600, 606,  600, 606,  600, 606,  598, 606,  598, 630,  574, 1732,  576, 630,  576, 1730,  576};  // GREE    Serial.println("Turning the temperature to 25");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 26 : {
      uint16_t rawData[279] = {9040, 4456,  654, 1678,  628, 578,  628, 552,  656, 1676,  628, 1678,  626, 1678,  630, 550,  652, 578,  628, 556,  648, 1678,  632, 550,  654, 1676,  628, 550,  656, 552,  652, 552,  652, 552,  652, 550,  656, 552,  654, 550,  656, 550,  656, 548,  656, 550,  652, 1678,  628, 552,  654, 550,  654, 552,  654, 552,  652, 552,  654, 1676,  630, 550,  652, 1678,  630, 550,  654, 552,  654, 1654,  652, 552,  652, 19974,  650, 556,  652, 1678,  628, 550,  652, 554,  676, 528,  678, 528,  654, 550,  678, 528,  680, 524,  654, 550,  678, 526,  678, 528,  678, 526,  680, 524,  678, 1652,  658, 1648,  658, 522,  682, 524,  680, 528,  676, 528,  680, 546,  658, 548,  670, 534,  684, 520,  686, 520,  684, 520,  686, 520,  684, 520,  684, 1622,  684, 522,  682, 522,  684, 1598,  706, 39924,  9016, 4460,  678, 528,  676, 528,  698, 506,  676, 530,  672, 532,  674, 532,  672, 534,  670, 534,  670, 534,  670, 534,  670, 536,  668, 538,  666, 538,  668, 538,  666, 538,  668, 538,  666, 538,  666, 540,  664, 540,  664, 542,  664, 542,  664, 540,  664, 542,  664, 542,  640, 566,  638, 568,  638, 566,  638, 568,  638, 568,  636, 1672,  634, 570,  634, 1672,  634, 570,  634, 1692,  614, 590,  614, 20016,  614, 592,  614, 590,  614, 592,  612, 592,  612, 592,  612, 592,  612, 592,  612, 592,  612, 594,  612, 594,  612, 594,  612, 592,  612, 594,  610, 594,  610, 596,  610, 594,  608, 598,  608, 598,  606, 600,  604, 602,  586, 620,  600, 604,  600, 606,  600, 606,  600, 606,  600, 604,  600, 606,  600, 606,  600, 606,  600, 1706,  600, 606,  598, 1732,  576};  // GREE    Serial.println("Turning the temperature to 26");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 27 : {
      uint16_t rawData[279] = {9046, 4454,  656, 1676,  628, 552,  652, 554,  652, 1676,  628, 1680,  626, 1678,  628, 552,  652, 552,  654, 1680,  628, 1678,  628, 552,  652, 1680,  626, 554,  650, 554,  650, 580,  626, 554,  648, 556,  650, 552,  654, 552,  652, 554,  652, 554,  652, 552,  652, 1680,  626, 552,  652, 554,  648, 556,  650, 554,  652, 552,  654, 1680,  624, 556,  650, 1682,  626, 552,  652, 552,  652, 1680,  648, 532,  652, 19978,  652, 554,  652, 1680,  626, 554,  650, 554,  652, 554,  676, 530,  678, 526,  678, 526,  680, 524,  680, 524,  682, 526,  680, 524,  682, 548,  658, 548,  656, 1648,  660, 1646,  684, 520,  686, 520,  686, 520,  686, 520,  684, 522,  684, 520,  684, 522,  682, 522,  682, 522,  682, 522,  682, 524,  680, 526,  676, 504,  700, 1602,  678, 528,  674, 1632,  672, 39960,  9002, 4472,  664, 540,  664, 540,  664, 542,  664, 540,  664, 540,  664, 542,  650, 556,  638, 566,  638, 568,  636, 568,  638, 568,  636, 568,  636, 568,  636, 570,  636, 570,  634, 590,  614, 590,  614, 590,  614, 592,  614, 592,  612, 592,  614, 592,  614, 592,  614, 592,  612, 592,  612, 592,  612, 592,  612, 594,  612, 594,  610, 1696,  612, 594,  610, 1696,  610, 596,  610, 1696,  608, 596,  610, 20022,  610, 596,  610, 596,  608, 598,  608, 596,  608, 598,  608, 598,  606, 598,  606, 598,  606, 600,  606, 600,  604, 600,  604, 600,  604, 602,  604, 600,  602, 604,  602, 604,  600, 604,  600, 606,  600, 604,  600, 604,  602, 604,  600, 604,  600, 606,  600, 604,  600, 606,  598, 606,  598, 606,  600, 606,  600, 606,  598, 1730,  576, 628,  576, 1730,  576};  // GREE    Serial.println("Turning the temperature to 27");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 28 : {
      uint16_t rawData[279] = {8956, 4520,  616, 1716,  610, 570,  618, 588,  618, 1716,  592, 1714,  592, 1714,  590, 590,  616, 586,  618, 588,  618, 588,  618, 1714,  592, 1716,  590, 588,  616, 590,  616, 586,  620, 586,  618, 586,  618, 588,  618, 586,  618, 586,  620, 588,  616, 586,  618, 1714,  592, 588,  618, 588,  618, 588,  618, 588,  618, 588,  618, 1714,  592, 586,  618, 1714,  592, 586,  618, 586,  620, 1712,  594, 586,  620, 20010,  620, 586,  622, 1710,  618, 562,  646, 562,  644, 558,  648, 584,  648, 556,  654, 550,  682, 524,  684, 520,  686, 520,  686, 520,  686, 518,  686, 518,  686, 1622,  684, 1596,  708, 522,  684, 522,  682, 524,  676, 528,  652, 530,  674, 530,  672, 532,  670, 534,  668, 538,  666, 538,  666, 538,  664, 540,  642, 1664,  640, 1666,  640, 566,  638, 1668,  636, 40000,  8970, 4524,  612, 594,  612, 594,  612, 592,  612, 594,  610, 594,  612, 592,  612, 594,  610, 594,  612, 596,  610, 596,  610, 594,  610, 596,  610, 596,  610, 596,  608, 596,  608, 598,  608, 596,  608, 598,  608, 598,  608, 598,  608, 598,  606, 598,  606, 598,  606, 600,  606, 600,  606, 600,  604, 602,  604, 600,  604, 602,  602, 1704,  600, 604,  602, 1704,  600, 604,  602, 1706,  600, 604,  602, 20030,  602, 602,  602, 604,  600, 604,  600, 604,  600, 604,  602, 604,  600, 604,  602, 604,  600, 604,  600, 604,  602, 604,  600, 604,  600, 604,  600, 604,  602, 604,  600, 604,  600, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 606,  600, 606,  598, 608,  598, 606,  600, 628,  576, 1730,  576, 628,  576, 1730,  576};  // GREE    Serial.println("Turning the temperature to 28");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 29 : {
      uint16_t rawData[279] = {8974, 4498,  640, 1694,  612, 564,  640, 564,  640, 1694,  614, 1692,  612, 1692,  614, 564,  638, 566,  636, 1694,  614, 566,  638, 1694,  612, 1696,  612, 566,  640, 566,  640, 564,  638, 568,  638, 566,  638, 566,  638, 568,  636, 568,  616, 588,  638, 568,  634, 1698,  610, 568,  618, 588,  618, 586,  618, 588,  618, 588,  616, 1716,  590, 588,  618, 1714,  590, 588,  616, 588,  618, 1716,  592, 586,  618, 20014,  618, 588,  618, 1714,  592, 588,  618, 586,  618, 586,  620, 586,  618, 586,  620, 586,  620, 586,  642, 562,  646, 564,  642, 584,  652, 552,  658, 548,  684, 1622,  686, 1620,  686, 520,  684, 520,  684, 520,  686, 520,  684, 520,  684, 520,  684, 522,  680, 524,  678, 528,  650, 530,  672, 530,  672, 532,  670, 534,  670, 536,  668, 1638,  666, 1640,  640, 39992,  8974, 4500,  636, 568,  638, 568,  636, 568,  636, 570,  636, 568,  634, 570,  634, 572,  634, 572,  634, 592,  612, 592,  612, 592,  612, 592,  612, 592,  612, 592,  614, 592,  612, 592,  612, 594,  612, 592,  612, 594,  612, 594,  610, 594,  610, 594,  612, 594,  610, 596,  610, 596,  608, 596,  610, 594,  610, 596,  608, 596,  608, 1696,  608, 596,  608, 1698,  608, 598,  606, 1700,  606, 598,  606, 20024,  606, 598,  606, 600,  604, 600,  604, 602,  604, 600,  604, 602,  602, 604,  602, 604,  602, 604,  602, 604,  600, 606,  602, 604,  600, 604,  600, 604,  602, 604,  602, 604,  600, 604,  600, 604,  600, 604,  600, 604,  600, 606,  598, 604,  600, 606,  600, 604,  600, 606,  598, 606,  602, 604,  600, 606,  598, 606,  600, 1730,  576, 630,  576, 1730,  576};  // GREE    Serial.println("Turning the temperature to 29");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    case 30 : {
      uint16_t rawData[279] = {9000, 4498,  642, 1692,  614, 566,  640, 564,  640, 1694,  614, 1692,  590, 1692,  636, 564,  640, 566,  638, 564,  618, 1714,  614, 1692,  614, 1692,  612, 566,  638, 566,  642, 564,  638, 566,  638, 566,  638, 566,  640, 568,  616, 588,  618, 586,  638, 568,  618, 1714,  592, 588,  640, 566,  618, 586,  620, 612,  618, 588,  638, 1694,  612, 566,  618, 1714,  592, 586,  618, 588,  616, 1714,  592, 588,  618, 20010,  618, 586,  620, 1714,  590, 588,  616, 586,  618, 586,  620, 588,  616, 588,  618, 586,  620, 586,  618, 588,  618, 586,  618, 588,  620, 584,  620, 586,  620, 1710,  596, 1712,  596, 584,  644, 562,  642, 564,  644, 582,  650, 556,  656, 550,  684, 520,  686, 520,  686, 520,  686, 518,  686, 520,  686, 520,  686, 1598,  706, 520,  684, 1598,  708, 1598,  706, 39926,  9008, 4466,  670, 536,  668, 536,  668, 536,  668, 536,  668, 536,  668, 538,  668, 538,  666, 538,  642, 562,  642, 564,  666, 540,  642, 564,  640, 564,  640, 566,  640, 566,  640, 564,  640, 566,  640, 566,  638, 566,  638, 566,  638, 566,  636, 568,  638, 568,  636, 568,  636, 568,  636, 570,  634, 570,  636, 570,  634, 572,  634, 1692,  614, 592,  614, 1692,  614, 592,  612, 1694,  612, 592,  612, 20018,  612, 592,  614, 592,  612, 594,  610, 594,  612, 594,  610, 594,  610, 594,  612, 594,  612, 594,  610, 596,  610, 594,  610, 596,  610, 596,  608, 596,  610, 596,  608, 596,  608, 598,  606, 600,  604, 602,  602, 604,  600, 606,  600, 606,  600, 606,  600, 604,  600, 604,  600, 606,  600, 604,  600, 606,  600, 606,  600, 1728,  578, 606,  600, 1730,  576};  // GREE    Serial.println("Turning the temperature to 30");
      irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
      break;}
    default:
      break;
    }
  String response = "{\"suhu\":1}";
  Serial.println(response);
  server.send(200, "/suhu", response);
}

void hidup(){
  uint16_t rawData[279] = {8958, 4516,  646, 1686,  596, 584,  622, 582,  648, 1684,  596, 1708,  622, 1686,  598, 580,  646, 560,  646, 1686,  598, 582,  622, 582,  622, 1708,  620, 560,  648, 556,  646, 560,  650, 556,  648, 558,  648, 558,  648, 554,  650, 556,  650, 554,  650, 556,  652, 1680,  648, 530,  658, 548,  676, 528,  652, 552,  676, 530,  678, 1652,  654, 526,  680, 1648,  658, 548,  682, 522,  684, 1622,  686, 520,  686, 19920,  710, 522,  682, 1624,  682, 522,  682, 522,  682, 524,  680, 524,  680, 504,  700, 502,  676, 530,  674, 528,  672, 558,  670, 534,  668, 538,  668, 536,  666, 1640,  666, 1640,  664, 540,  664, 542,  638, 566,  636, 570,  634, 590,  614, 590,  614, 592,  612, 594,  612, 592,  612, 594,  610, 594,  610, 596,  610, 596,  608, 598,  606, 598,  604, 1704,  600, 40034,  8938, 4538,  600, 604,  600, 604,  600, 604,  600, 606,  600, 604,  602, 604,  600, 604,  600, 604,  600, 604,  602, 604,  600, 606,  600, 604,  600, 604,  600, 604,  602, 604,  602, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 604,  600, 604,  600, 606,  600, 606,  598, 606,  600, 604,  600, 606,  600, 604,  600, 606,  600, 1704,  600, 606,  598, 1708,  600, 604,  602, 1704,  600, 604,  600, 20030,  600, 606,  600, 606,  600, 604,  600, 606,  600, 604,  600, 604,  600, 606,  598, 606,  602, 604,  600, 606,  580, 626,  600, 604,  600, 606,  600, 604,  600, 604,  600, 606,  600, 604,  600, 604,  600, 606,  600, 606,  600, 606,  600, 606,  600, 606,  600, 606,  600, 606,  598, 630,  576, 628,  576, 630,  576, 630,  576, 1730,  576, 630,  576, 1730,  576};  // GREE    Serial.println("Turning the Ac on/off");
  irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
  String response = "{\"hidup\":1}";
  Serial.println(response);
  server.send(200, "/on", response);
}

void mati(){
  uint16_t rawData[279] = {9012, 4486,  650, 1682,  622, 558,  648, 554,  650, 556,  648, 1682,  626, 1680,  624, 556,  650, 554,  650, 1682,  622, 558,  648, 558,  650, 1682,  624, 554,  650, 556,  650, 552,  648, 556,  648, 558,  650, 556,  646, 558,  648, 556,  650, 552,  650, 556,  650, 556,  650, 556,  648, 556,  650, 556,  646, 556,  650, 556,  650, 1680,  624, 556,  652, 1680,  624, 554,  648, 558,  648, 1682,  624, 554,  652, 19980,  652, 554,  650, 1682,  624, 556,  652, 554,  650, 554,  676, 528,  650, 554,  678, 528,  678, 528,  678, 526,  680, 526,  680, 524,  680, 526,  680, 524,  682, 1648,  658, 1648,  660, 526,  704, 522,  658, 546,  684, 522,  684, 520,  686, 520,  686, 520,  684, 520,  686, 520,  684, 520,  684, 522,  682, 522,  682, 522,  682, 524,  680, 524,  678, 504,  700, 39930,  9008, 4468,  670, 536,  668, 536,  668, 536,  668, 538,  666, 538,  668, 538,  668, 536,  666, 540,  666, 538,  666, 540,  666, 540,  666, 540,  664, 540,  640, 566,  638, 566,  638, 566,  638, 566,  638, 566,  638, 568,  636, 568,  636, 590,  616, 570,  634, 590,  616, 590,  614, 590,  614, 592,  614, 592,  612, 592,  612, 592,  612, 1694,  612, 592,  612, 1694,  612, 592,  612, 1694,  612, 594,  612, 20020,  612, 594,  612, 594,  612, 594,  610, 594,  610, 596,  610, 596,  608, 596,  608, 596,  610, 596,  608, 596,  608, 596,  608, 598,  608, 596,  608, 598,  606, 598,  604, 600,  604, 602,  578, 628,  600, 606,  600, 606,  600, 606,  600, 604,  600, 606,  600, 604,  600, 606,  598, 606,  600, 606,  600, 606,  598, 630,  576, 1730,  576, 630,  576, 1730,  576};  // GREE    Serial.println("Turning the Ac off");
  irsend.sendRaw(rawData, 179, 38);  // Send a raw data capture at 38kHz.
  String response = "{\"mati\":1}";
  Serial.println(response);
  server.send(200, "/off", response);
}

void setup() {
  irsend.begin();
  Serial.begin(115200);
  WiFi.mode(WIFI_AP);
  WiFi.softAPConfig(local_ip, gateway, netmask);
  WiFi.softAP(ssid, password);
  delay(500);
  irrecv.enableIRIn();  // Start the receiver
  Serial.println();
  Serial.print("IRrecvDemo is now running and waiting for IR message on Pin ");
  Serial.println(kRecvPin);
  Serial.println("");
  server.on("/", [](){
    server.send_P(200, "text/html", index_html);
  });
  server.on("/suhu", HTTP_POST, suhu);
  server.on("/on", HTTP_POST, hidup);
  server.on("/off", HTTP_POST, mati);
  server.begin();
}
void loop(void) {
  server.handleClient();
}
